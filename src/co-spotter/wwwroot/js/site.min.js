function SwitchScreen(n){var t,i;switch(n.dataset.state){case"off":t=document.documentElement;i=t.requestFullScreen||t.webkitRequestFullScreen||t.mozRequestFullScreen||t.msRequestFullscreen;n.dataset.state="on";break;case"on":t=document;i=t.exitFullscreen||t.webkitExitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen;n.dataset.state="off"}n.classList.toggle("focus-bg");window.localStorage.setItem("screen-state",n.dataset.state);i.call(t)}function Toolbar(n){var r=document.getElementById(n),t=r.getElementsByClassName("tool-list")[0],i;t.onclick=function(n){var r=n.target.tagName==="I"?n.target.parentElement:n.target.tagName==="LI"?n.target:null,i;if(r){for(i in t.children)t.children[i].tagName==="LI"&&t.children[i].classList.remove("selected");r.classList.add("selected")}};t.children[0].click();for(i in t.children)t.children[i].tagName==="LI"&&(t.children[i].toolType=t.children[i].attributes["tool-type"].value);this.setToolFunction=function(n,i){if(n==="all")for(var r in t.children)t.children[r].tagName==="LI"&&(t.children[r].onclick=i);else for(r in t.children)if(t.children[r].toolType===n){t.children[r].onclick=i;break}}}function Window(n){var t=document.getElementById(n),r=t.getElementsByClassName("window-close")[0],i=this,u;this.width=t.clientWidth;this.height=t.clientHeight;r.onclick=function(){t.style.top="unset";t.style.left="101%"};u=function(n,r){var u={top:"",left:""},f=t.parentElement;return r-=f.offsetTop,n-=f.offsetLeft,u.top=r<i.height+32?r+16:r-i.height-16,u.left=n<i.width+32?n+16:n-i.width-16,u};this.show=function(n){setTimeout(function(){var r=t.parentElement,i;r.clientWidth<768?(t.style.top="calc(50% - "+t.clientHeight/2+"px)",t.style.left="5%",t.style.right="5%"):(i=u(n.clientX,n.clientY),t.style.top=i.top+"px",t.style.left=i.left+"px",t.style.right="unset")},500)};this.hide=function(){r.click()}}function LoadingBar(n){this.track=document.getElementById(n).getElementsByClassName("track")[0];LoadingBar.prototype.setValue=function(n){n=n<0?0:n>100?100:n;this.track.style.width=n+"%"};LoadingBar.prototype.init=function(){this.track.style.width="0%";this.show()};LoadingBar.prototype.show=function(){this.track.parentElement.parentElement.style.display="initial"};LoadingBar.prototype.hide=function(){this.track.parentElement.parentElement.style.display="none"}}